<!DOCTYPE html>
<html>
<head>
<title>GFork - åŠ é€Ÿè®¿é—®ä¸è„šæœ¬ä¸‹è½½ - ç”¨æˆ·è„šæœ¬ | GreasyForké•œåƒç«™</title>
<meta name="description" content="GFORKä¸“ä¸ºç”¨æˆ·è§£å†³è®¿é—®æ…¢ã€è„šæœ¬ä¸‹è½½éš¾çš„é—®é¢˜ï¼ˆMirroredå®˜æ–¹ã®ç«™ï¼‰ - é’ˆå¯¹æ‚¨æ‰€è®¿é—®çš„ç½‘ç«™æ·»åŠ åŠŸèƒ½æˆ–è§£å†³é—®é¢˜çš„ç”¨æˆ·è„šæœ¬ã€‚">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="keywords" content="æ²¹çŒ´è„šæœ¬, JavaScript" />
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3758644447684310" crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://cdn.jsdmirror.com/gh/dahisea/Re-GFork-web@main/css/main.css" media="screen" />
<link rel="stylesheet" href="https://cdn.jsdmirror.com/gh/dahisea/Re-GFork-web@main/css/mater.css" />
<link href="https://cdn.jsdmirror.com/gh/dahisea/Re-GFork-web@main/css/ads.css" rel="stylesheet">
<style>
  .loading {
    text-align: center;
    padding: 20px;
    font-style: italic;
    color: #666;
  }
</style>
</head>
<body>
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KZFGTVN7" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

<header id="main-header">
  <div class="width-constraint">
    <div id="site-name">
      <a href="/zh-CN"></a>
      <div id="site-name-text"><a href="/"><h1>Greasy Fork</h1></a></div>
    </div>
    <div id="site-nav">
      <div id="nav-user-info">
        <span class="sign-in-link"><a rel="nofollow" href="/zh-hans/users/sign_in?return_to=/zh-hans/users/1442595" target="_blank">ç™»å½•</a></span>
      </div>
      <nav>
        <li class="scripts-index-link"><a href="/zh-hans/scripts">è„šæœ¬</a></li>
        <li class="help-link"><a href="/zh-hans/help">å¸®åŠ©</a></li>
        <li class="with-submenu">
          <a href="#" onclick="return false">æ›´å¤š</a>
          <nav>
            <li><a href="/zh-hans/search">é«˜çº§æœç´¢</a></li>
            <li><a href="/zh-hans/scripts/libraries">åº“</a></li>
          </nav>
        </li>
      </nav>
    </div>
    <div id="mobile-nav">
      <div class="mobile-nav-opener">â˜°</div>
      <nav class="collapsed">
        <li class="scripts-index-link"><a href="/zh-hans/scripts">è„šæœ¬</a></li>
        <li class="help-link"><a href="/zh-hans/help">å¸®åŠ©</a></li>
        <li><a href="/zh-hans/search">é«˜çº§æœç´¢</a></li>
        <li><a href="/zh-hans/scripts/libraries">åº“</a></li>
        <li class="multi-link-nav">
          <span class="sign-in-link"><a rel="nofollow" href="/zh-hans/users/sign_in?return_to=/zh-hans/users/1442595" target="_blank">ç™»å½•</a></span>
        </li>
      </nav>
    </div>
  </div>
</header>

<div class="width-constraint">
  <div class="sidebarred">
    <div class="sidebarred-main-content">
      <div class="open-sidebar sidebar-collapsed">â˜°</div>
      <p class="script-list-description">ç°åœ¨åªæ˜¾ç¤º ç®€ä½“ä¸­æ–‡ çš„ç»“æœã€‚<a rel="nofollow" href="/zh-hans/scripts?filter_locale=0&amp;q=itdog">æ˜¾ç¤ºæ‰€æœ‰è¯­è¨€çš„ç»“æœã€‚</a></p>
      
      <ol id="browse-script-list" class="script-list">
        <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-3758644447684310" data-ad-slot="4095096984" data-ad-format="auto" data-full-width-responsive="true"></ins>
        <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
        <div id="script-results" class="loading">åŠ è½½è„šæœ¬ä¸­...</div>
      </ol>
      
      <p class="script-list-description"><a href="/zh-hans/script_versions/new">å‘å¸ƒä½ ç¼–å†™çš„è„šæœ¬</a>(æˆ– <a href="/zh-hans/help/writing-user-scripts">äº†è§£å¦‚ä½•ç¼–å†™è„šæœ¬</a>)</p>
    </div>
    
    <div class="sidebar collapsed">
      <div class="close-sidebar">
        <div class="sidebar-title">æœç´¢é€‰é¡¹</div>
        <div>â˜°</div>
      </div>
      <div id="script-list-option-groups" class="list-option-groups">
        <form class="sidebar-search" id="search-form">
          <input type="search" name="q" id="search-input" placeholder="æœç´¢è„šæœ¬">
          <input class="search-submit" type="submit" value="ğŸ”">
        </form>
        <div id="script-list-sort" class="list-option-group">è„šæœ¬æ’åºï¼š
          <ul>
            <li class="list-option list-current">ç›¸å…³ç¨‹åº¦</li>
            <li class="list-option"><a href="#" data-sort="daily_installs">æ—¥å®‰è£…é‡</a></li>
            <li class="list-option"><a href="#" data-sort="total_installs">æ€»å®‰è£…é‡</a></li>
            <li class="list-option"><a href="#" data-sort="ratings">å¾—åˆ†</a></li>
            <li class="list-option"><a href="#" data-sort="created">åˆ›å»ºæ—¥æœŸ</a></li>
            <li class="list-option"><a href="#" data-sort="updated">æ›´æ–°æ—¥æœŸ</a></li>
            <li class="list-option"><a href="#" data-sort="name">åç§°</a></li>
          </ul>
        </div>
        <div id="script-list-filter" class="list-option-group">æ ¹æ®è„šæœ¬ç”Ÿæ•ˆçš„ç½‘ç«™è¿‡æ»¤ï¼š
          <ul>
            <li class="list-option list-current">å…¨éƒ¨</li>
            <li class="list-option"><a href="#" data-site="baidu.com">baidu.com</a></li>
            <li class="list-option"><a href="#" data-site="bilibili.com">bilibili.com</a></li>
            <li class="list-option"><a href="#" data-site="*">(æ‰€æœ‰ç½‘ç«™)</a></li>
            <li class="list-option"><a href="#" data-site="youtube.com">youtube.com</a></li>
            <li class="list-option"><a href="#" data-site="qq.com">qq.com</a></li>
            <li class="list-option"><a href="#" data-site="chaoxing.com">chaoxing.com</a></li>
            <li class="list-option"><a href="#" data-site="iqiyi.com">iqiyi.com</a></li>
            <li class="list-option"><a href="#" data-site="youku.com">youku.com</a></li>
            <li class="list-option"><a href="#" data-site="sohu.com">sohu.com</a></li>
            <li class="list-option"><a href="#" data-site="zhihu.com">zhihu.com</a></li>
            <li><a href="/zh-hans/scripts/by-site">æ›´å¤š...</a></li>
          </ul>
        </div>
        <div id="script-language-filter" class="list-option-group">è¯­è¨€ï¼š
          <ul>
            <li class="list-option"><a href="#" data-language="all">æ‰€æœ‰</a></li>
            <li class="list-option list-current">JavaScript</li>
            <li class="list-option"><a href="#" data-language="css">CSS</a></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>

<footer style="font-size:11px;text-align:center">
  <section class="text-content">
    <br>
    <form class="language-selector" action="/" method="GET">
      <select class="language-selector-locale" id="locale-select" name="locale" aria-label="é€‰æ‹©ç½‘ç«™è¯­è¨€">
        <option value="" disabled selected>é€‰æ‹©è¯­è¨€</option>
        <option data-language-url="/zh-hans" value="zh-CN">ç®€ä½“å­—</option>
        <option data-language-url="/zh-hant" value="zh-TW">ç¹é«”å­—</option>
        <option data-language-url="/ja" value="ja">æ—¥æœ¬èª</option>
        <option data-language-url="/en" value="en">ï¼¥ï¼®ï¼§</option>
      </select>
    </form>
    <br>
    <p>ICP : èŒICPå‚™20213149å·ï½œICP SYSTEM:<a href="https://icp.gov.moe/?keyword=20213149" target="_blank">https://icp.gov.moe</a></p>
    <p>å‚™æ¡ˆç•ªå·ï¼šèŒå…¬ç½‘å‚™ 11010502030125 å·</p>
    <br>
    <a href="/page/tos">ç”¨æˆ¶å”è­°</a><br>
    <a href="https://github.com/greasyfork-proxy/GreasyFork-Mirror/issues">Github åé¥‹é </a><br>
    <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-3758644447684310" data-ad-slot="4095096984" data-ad-format="auto" data-full-width-responsive="true"></ins>
    <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
    <img src="https://cdn.jsdmirror.com/gh/dahisea/w_file@main/assets/img/15p.svg" alt="åˆ†ç´š" style="width:65px;height:65px;cursor:pointer">
    <p>Â© 2020-2023 GFork.</p>
    <p>åºå¹•å±•é–‹<span id="htmer_time"></span></p>
    <div id="api-data" style="font-size:9px;text-align:left">å°‘å¥³ç¥ˆç¥·ä¸­...</div>
    <br>
    <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-3758644447684310" data-ad-slot="4095096984" data-ad-format="auto" data-full-width-responsive="true"></ins>
    <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
    <br>
  </section>
</footer>
<script>
// Get all URL parameters
function getAllUrlParams() {
  const urlParams = new URLSearchParams(window.location.search);
  const params = {};
  for (const [key, value] of urlParams.entries()) {
    params[key] = value;
  }
  return params;
}

// Build API URL with all current parameters
function buildApiUrl() {
  const baseUrl = 'https://api.greasyfork.org.cn/zh-CN/scripts.json';
  const params = getAllUrlParams();
  
  // Remove parameters that shouldn't go to the API
  delete params.locale;
  
  const queryString = Object.keys(params)
    .map(key => `${encodeURIComponent(key)}=${encodeURIComponent(params[key])}`)
    .join('&');
  
  return queryString ? `${baseUrl}?${queryString}` : baseUrl;
}

// Fetch scripts from API
async function fetchScripts() {
  const apiUrl = buildApiUrl();
  const loadingElement = document.getElementById('script-results');
  
  try {
    loadingElement.innerHTML = '<div class="loading">åŠ è½½è„šæœ¬ä¸­...</div>';
    
    const response = await fetch(apiUrl);
    if (!response.ok) {
      throw new Error(`APIè¯·æ±‚å¤±è´¥: ${response.status}`);
    }
    
    const scripts = await response.json();
    renderScripts(scripts);
    
    // Update search input with current q parameter
    const params = getAllUrlParams();
    if (params.q) {
      document.getElementById('search-input').value = params.q;
    }
  } catch (error) {
    loadingElement.innerHTML = `<div class="error">åŠ è½½è„šæœ¬å¤±è´¥: ${error.message}</div>`;
    console.error('Error fetching scripts:', error);
  }
}

// Render script list
function renderScripts(scripts) {
  const container = document.getElementById('script-results');
  if (!container) return;

  if (!scripts || scripts.length === 0) {
    container.innerHTML = '<div class="loading">æ²¡æœ‰æ‰¾åˆ°åŒ¹é…çš„è„šæœ¬</div>';
    return;
  }

  let html = '';
  scripts.forEach(script => {
    // Format dates
    const createdDate = script.created_at ? new Date(script.created_at) : null;
    const updatedDate = script.code_updated_at ? new Date(script.code_updated_at) : null;
    
    html += `
      <li>
        <article>
          <h2>
            <a class="script-link" href="${script.url || '#'}" target="_blank">${script.name || 'æœªå‘½åè„šæœ¬'}</a>
            <span class="badge badge-js" title="ç”¨æˆ·è„šæœ¬">JS</span>
            <span class="name-description-separator">-</span>
            <span class="script-description description">${script.description || 'æš‚æ— æè¿°'}</span>
          </h2>
          <div class="script-meta-block">
            <dl class="inline-script-stats">
              <dt class="script-list-author"><span>ä½œè€…</span></dt>
              <dd class="script-list-author"><span><a href="${script.users?.[0]?.url || '#'}">${script.users?.[0]?.name || 'æœªçŸ¥ä½œè€…'}</a></span></dd>
              <dt class="script-list-daily-installs"><span>æ—¥å®‰è£…é‡</span></dt>
              <dd class="script-list-daily-installs"><span>${script.daily_installs || 0}</span></dd>
              <dt class="script-list-total-installs"><span>æ€»å®‰è£…é‡</span></dt>
              <dd class="script-list-total-installs"><span>${script.total_installs || 0}</span></dd>
              <dt class="script-list-ratings"><span>è¯„åˆ†</span></dt>
              <dd class="script-list-ratings" data-rating-score="${script.fan_score || 0}">
                <span>
                  <span class="good-rating-count" title="è¯„çº§ä¸ºå¥½è¯„æˆ–å·²åŠ å…¥åˆ°æ”¶è—çš„äººæ•°ã€‚">${script.good_ratings || 0}</span>
                  <span class="ok-rating-count" title="è¯„çº§ä¸ºä¸€èˆ¬çš„äººæ•°ã€‚">${script.ok_ratings || 0}</span>
                  <span class="bad-rating-count" title="è¯„çº§ä¸ºå·®è¯„çš„äººæ•°ã€‚">${script.bad_ratings || 0}</span>
                </span>
              </dd>
              <dt class="script-list-created-date"><span>åˆ›å»ºäº</span></dt>
              <dd class="script-list-created-date"><span>${createdDate ? createdDate.toLocaleDateString() : 'æœªçŸ¥'}</span></dd>
              <dt class="script-list-updated-date"><span>æ›´æ–°äº</span></dt>
              <dd class="script-list-updated-date"><span>${updatedDate ? updatedDate.toLocaleDateString() : 'æœªçŸ¥'}</span></dd>
              <a href="${script.code_url || '#'}" target="_blank">ç«‹å³å®‰è£…æ­¤è„šæœ¬</a>
            </dl>
          </div>
        </article>
      </li>
    `;
  });
  
  container.outerHTML = html;
}

// Handle search form submission
document.getElementById('search-form')?.addEventListener('submit', function(e) {
  e.preventDefault();
  const searchInput = document.getElementById('search-input');
  const query = searchInput.value;
  
  // Update URL with new search parameter
  const url = new URL(window.location);
  if (query) {
    url.searchParams.set('q', query);
  } else {
    url.searchParams.delete('q');
  }
  
  // Preserve all other parameters
  window.history.pushState({}, '', url);
  
  // Refresh the data
  fetchScripts();
});

// Handle back/forward navigation
window.addEventListener('popstate', function() {
  fetchScripts();
});

// Initialize page
document.addEventListener('DOMContentLoaded', function() {
  // Set up all filter/sort links to preserve parameters
  document.querySelectorAll('[data-sort], [data-site], [data-language]').forEach(link => {
    link.addEventListener('click', function(e) {
      e.preventDefault();
      
      const url = new URL(window.location);
      const params = getAllUrlParams();
      
      if (this.dataset.sort) {
        url.searchParams.set('sort', this.dataset.sort);
      }
      if (this.dataset.site) {
        url.searchParams.set('site', this.dataset.site);
      }
      if (this.dataset.language) {
        url.searchParams.set('language', this.dataset.language);
      }
      
      window.history.pushState({}, '', url);
      fetchScripts();
    });
  });
  
  // Initial data load
  fetchScripts();
});
</script>

</body>
</html>